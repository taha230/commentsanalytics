
<!-- Pagination Section -->
<div id = "pagination" class="card-footer py-4">
  <nav aria-label="...">
    <ul class="pagination justify-content-end mb-0">

      <!-- FIRST -->
      <li class="page-item">
        <a class="page-link" id= "custom_first" tabindex="+2">
          <i class="fas fa-angle-double-left"></i>
          <span class="sr-only">First</span>
        </a>
      </li>
      
      <!-- PREV -->
      {% if current_pagination > 1 %}
        <li class="page-item">
          <a class="page-link" id="custom_prev" tabindex="-1">
            <i class="fas fa-angle-left"></i>
            <span class="sr-only">Previous</span>
          </a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" tabindex="-1">
            <i class="fas fa-angle-left"></i>
            <span class="sr-only">Previous</span>
          </a>
        </li>
      {% endif %}
      
      <li class="page-item" id ="first_li">
        <a class="page-link" id="first_a">1</a>
      </li>
      <li class="page-item" id="second_li">
        <a class="page-link" id="second_a">2</a>
      </li>
      <li class="page-item" id="third_li">
        <a class="page-link" id="third_a">3</a>
      </li>

      <!-- NEXT -->
      {% if current_pagination < last_pagination %}
      <li class="page-item">
        <a class="page-link" id= "custom_next" tabindex="-1">
          <i class="fas fa-angle-right"></i>
          <span class="sr-only">Next</span>
        </a>
      </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" tabindex="-1">
            <i class="fas fa-angle-right"></i>
            <span class="sr-only">Next</span>
          </a>
        </li>
      {% endif %}

      <!-- LAST -->
      <li class="page-item">
        <a class="page-link" id= "custom_last" tabindex="-2">
          <i class="fas fa-angle-double-right"></i>
          <span class="sr-only">Last</span>
        </a>
      </li>

    </ul>
  </nav>
  <br>
  <div class="fw-normal small mt-4 mt-lg-0" align="right">Showing <b>{{ page_limit }}</b> out of <b>{{ total_items }}</b> entries</div>

</div>



<!-- Specific JS goes HERE --> 
{% block javascripts %}
<script >

  var $current_pagination = {{ current_pagination }};
  var $last_pagination = {{ last_pagination }};

  var $current_href = "P" + ($current_pagination);
  var $prev_href = "P" + ($current_pagination -1);
  var $nexthref = "P" + ($current_pagination +1);

  var $prev_prev_href = "P" + ($current_pagination -2);
  var $next_next_href = "P" + ($current_pagination +2);

///// last and first href assign
  document.getElementById('custom_first').href="P1";
  document.getElementById('custom_last').href = "P" + ($last_pagination);;

//// next and prev href modify
  if (document.getElementById('custom_next'))
  {
    document.getElementById('custom_next').href = $nexthref;
  }
  if (document.getElementById('custom_prev'))
  {
    document.getElementById('custom_prev').href = $prev_href;
  }
///// activation on page number
  if ($current_pagination == 1)
  {
    document.getElementById('first_li').classList.add('active');
  }
  else if ($current_pagination == $last_pagination && $current_pagination != 2)
  {
    document.getElementById('third_li').classList.add('active');
  }
  else
  {
    document.getElementById('second_li').classList.add('active');
  }

///// disabled on last page limit
  if ($last_pagination == 1)
  {
    document.getElementById('second_li').classList.add('disabled');
    document.getElementById('third_li').classList.add('disabled');
  }
  else if ($last_pagination == 2)
  {
    document.getElementById('third_li').classList.add('disabled');
  }

  ///// href and text shown
  if ($current_pagination == 1)
  {
    document.getElementById('first_a').href = $current_href;
    document.getElementById('second_a').href = $nexthref;
    document.getElementById('third_a').href = $next_next_href;

    document.getElementById('first_a').textContent = $current_pagination;
    document.getElementById('second_a').textContent = $current_pagination + 1;
    document.getElementById('third_a').textContent = $current_pagination + 2;
  }
  else if ($current_pagination == $last_pagination && $current_pagination != 2)
  {
    document.getElementById('first_a').href = $prev_prev_href;
    document.getElementById('second_a').href = $prev_href;
    document.getElementById('third_a').href = $current_href;

    document.getElementById('first_a').textContent = $current_pagination -2;
    document.getElementById('second_a').textContent = $current_pagination - 1;
    document.getElementById('third_a').textContent = $current_pagination;
  }
  else
  {
    document.getElementById('first_a').href = $prev_href;
    document.getElementById('second_a').href = $current_href;
    document.getElementById('third_a').href = $nexthref;

    document.getElementById('first_a').textContent = $current_pagination -1;
    document.getElementById('second_a').textContent = $current_pagination;
    document.getElementById('third_a').textContent = $current_pagination + 1;
  }


</script>


{% endblock javascripts %}